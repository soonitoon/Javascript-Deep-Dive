# 9장: 타입 변환과 단축 평가

## 9.1 타입 변환이란?

 - **명시적 타입 변환**, **타입 캐스팅**: 개발자가 명시적으로 어떤 값의 타입을 바꾸는 것.
 - **암묵적 타입 변환**, **타입 강제 변환**: 표현식 평가 과정에서 자바스크립트 엔진에 의해 암묵적으로 타입이 바뀌는 것.

```js
var x = 10;

var xString = x.toString(); // 명시적 타입 변환
var xString2 = x + ''; // 암묵적 타입 변환
```

- 암묵적 타입 변환은 다음 순서로 일어난다.
  1. `x + ''` 표현식을 평가하기 시작한다.
  2. `x` 값을 바탕으로 `'10'` 값을 새로 생성한다.
  3. `'x' + ''` 표현식을 평가하고, 평가된 값을 변수에 저장한다.
  4. 만들었던 `'x'` 값을 버린다.
- 암묵적 타입 변환이 혼란스럽다고 해서, 모든 타입 변환을 명시적으로 바꾸는 건 좋은 선택지가 아니다.
- 자바스크립트의 규칙에 익숙한 사람에게는 오히려 암묵적 타입 변환이 직관적으로 다가오기 때문.
- 따라서 암묵적 타입 변환이 언제 어떻게 일어나는지 정확히 아는 것이 중요하다.

## 9.2 암묵적 타입 변환

```js
'10' + 2; // "102"
5 * '10'; // 50
```

- 자바스크립트에서는 문맥에 맞지 않는 표현식을 평가할 때 문맥에 맞게 타입을 원시 타입 중 하나로 자동 변환한다.

### 9.2.1 문자열 타입 변환

- `+` 연산자의 피연산자 중 하나 이상이 문자열 타입이면 문자열 연결 연산자로 동작한다.
- 따라서 피연산자 중 문자열이 아닌 것이 있으면 문자열 타입으로 자동 변환한 후 표현식을 평가한다.

```js
// 숫자 타입 -> 문자열 타입
0 + ''; // "0"
-0 + ''; // "0"
-1 + ''; // "-1"
NaN + ''; // "NaN"
Infinity + ''; // "Infinity"
-Infinity + ''; // "-Infinity"

// 불리언 타입
true + ''; // "true"
false + ''; // "false"

// null 타입
null + ''; // "null"

// undefined 타입
undefined + ''; // "undefined"

// 심벌 타입
(Symbol()) + ''; // 타입 에러(문자열 변환 불가)

// 객체 타입
{} + ''; // "[object Object]"
[] + ''; // ""
[10, 20] + ''; // "10,20"
(function() {}) + ''; // "function(){}"
```

### 9.2.2 숫자 타입으로 변환

- `-`, `*`, `/` 연산자는 산술연산자로, 숫자 타입을 반환한다.
- 따라서 피연산자 중 숫자 타입이 아닌 것을 숫자 타입으로 자동 변환한다.

```js
1 - '1'; // 0
1 * '10'; // 10
1 / 'hello'; // NaN
```

- 비교 연산자 역시 숫자의 대소를 비교해야 하기 때문에 피연산자를 자동으로 숫자 타입으로 바꾼다.

```js
'1' > 2; // false
```

- `+` 단항 연산자 역시 피연산자에 대해 숫자 타입 변환을 한다.

```js
// 문자열 타입
+'' // 0
+'1' // 1
+'Hello' // NaN

// 불리언 타입
+true // 1
+false // 0

// null 타입
+null // 0

// undefined 타입
+undefined // NaN

// 심볼 타입
+Symbol() // 타입 에러

// 객체 타입
+{} // NaN
+[] // 0
+[10, 20] // NaN
+(function(){}) // NaN
```

### 9.2.3 불리언 타입으로 변환

